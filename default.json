{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  // Basic rules for all repositories
  "extends": ["config:best-practices"],
  // Global timezone and schedule
  "timezone": "Europe/Rome",
  "schedule": ["before 12:00 on Monday,Tuesday,Wednesday,Thursday"],
  // Noise reduction: avoid very fresh updates
  "minimumReleaseAge": "2 days",
  // Ensure patch/minor are separated from majors
  "separateMajorMinor": true,
  // Group some ecosystems and define update policies
  "packageRules": [
    {
      "groupName": "Test & QA dependencies",
      "matchPackagePatterns": [
        "jest",
        "vitest",
        "mocha",
        "chai",
        "phpunit",
        "mockito",
        "junit"
      ]
    },
    {
      "groupName": "CI/CD tooling",
      "matchPackagePatterns": ["actions/", "gha-", "semantic-release", "husky"],
      "matchManagers": ["npm", "github-actions"]
    },
    {
      "groupName": "Frontend tooling",
      "matchPackagePatterns": [
        "eslint",
        "prettier",
        "vite",
        "webpack",
        "babel"
      ],
      "matchManagers": ["npm"]
    },
    // Policy for patch/minor/major
    {
      "matchUpdateTypes": ["patch"],
      "automerge": true,
      "automergeType": "branch"
    },
    {
      "matchUpdateTypes": ["minor"],
      "automerge": false
    },
    {
      "matchUpdateTypes": ["major"],
      "automerge": false,
      "prPriority": -1,
      "labels": ["major-update"]
    }
  ],
  // Security PRs prioritized
  "vulnerabilityAlerts": {
    "enabled": true
  },
  // Shared lockfile maintenance
  "lockFileMaintenance": {
    "enabled": true,
    "schedule": ["before 12:00 on Monday"],
    "automerge": false
  },
  // Common labels for all Renovate PRs
  "labels": ["dependencies"],
  // Keep PRs clean and tidy
  "rebaseWhen": "behind-base-branch",
  // Enable standardized semantic commits in Renovate PRs
  "semanticCommits": "enabled",
  "commitBody": "Generated by Renovate Bot"
}
